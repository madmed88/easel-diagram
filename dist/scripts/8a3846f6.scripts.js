(function(){"use strict";var e=function(e,i){this.initialize(e,i)},i=e.prototype=new createjs.Container;i.Container_initialize=i.initialize,i.initialize=function(e,i){this.Container_initialize(),this.label=e,i||(i="#CCC");var t=new createjs.Text(e,"20px Arial","#000");t.textBaseline="middle",t.textAlign="center";var n=t.getMeasuredWidth()+30,a=t.getMeasuredHeight()+20;this.background=new createjs.Shape,this.background.graphics.beginFill(i).drawRoundRect(0,0,n,a,10),this.background.regX=n/2,this.background.regY=a/2,this.addChild(this.background,t)},window.Button=e})(),function(){"use strict";var e=function(e,i,t){this.initialize(e,i,t)},i=e.prototype=new createjs.Container;i.Container_initialize=i.initialize,i.initialize=function(e,i,t){this.Container_initialize(),this.button1=e,this.button2=i,this.color=t,this.line=new createjs.Shape,this.drawLine(),this.addChild(this.line)},i.drawLine=function(){this.line.graphics.clear().beginStroke(this.color).moveTo(this.button1.x,this.button1.y).lineTo(this.button2.x,this.button2.y).endStroke()},window.Connection=e}(),angular.module("easeldiagramApp",[]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("easeldiagramApp").controller("MainCtrl",["$scope",function(e){function i(i){i.onMouseMove=function(t){i.target.x=t.stageX,i.target.y=t.stageY,c=!0,e.$apply()}}function t(){c&&(c=!1,s.drawLine(),d.drawLine(),l.drawLine(),n.update(),e.$apply())}var n,a,o,r,s,d,l,c=!0;e.init=function(){n=new createjs.Stage(document.getElementById("canvas")),n.enableMouseOver(),a=new Button("Hello!","#F00"),a.x=200,a.y=20,a.onPress=i,o=new Button("Goodbye.","#0F0"),o.x=200,o.y=a.y+50,o.onPress=i,r=new Button("Hello again!!","#0FF"),r.x=200,r.y=o.y+50,r.onPress=i,s=n.addChild(new Connection(a,o,"#000")),d=n.addChild(new Connection(o,r,"#000")),l=n.addChild(new Connection(r,a,"#000")),n.addChild(a,o,r),c=!1,n.update(),createjs.Ticker.addListener(window),createjs.Ticker.addEventListener("tick",t)}}]);